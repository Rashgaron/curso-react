{"ast":null,"code":"import { AGREGAR_PRODUCTO, AGREGAR_PRODUCTO_ERROR, AGREGAR_PRODUCTO_EXITO, COMENZAR_DESCARGA_PRODUCTOS, DESCARGA_PRODUCTOS_EXITO, DESCARGA_PRODUCTOS_ERROR, OBTENER_PRODUCTO_ELIMINAR, PRODUCTO_ELIMINADO_EXITO, PRODUCTO_ELIMINADO_ERROR, OBTENER_PRODUCTO_EDITAR, PRODUCTO_EDITADO_EXITO, PRODUCTO_EDITADO_ERROR } from \"../types\"; // cada reducer tiene su propio state\n\nconst initialState = {\n  productos: [],\n  error: null,\n  loading: false,\n  productoEliminar: null,\n  productoeditar: null\n};\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    case AGREGAR_PRODUCTO:\n    case COMENZAR_DESCARGA_PRODUCTOS:\n      return { ...state,\n        loading: action.payload\n      };\n\n    case AGREGAR_PRODUCTO_EXITO:\n      return { ...state,\n        loading: false,\n        productos: [...state.productos, action.payload]\n      };\n\n    case DESCARGA_PRODUCTOS_ERROR:\n    case PRODUCTO_EDITADO_ERROR:\n    case AGREGAR_PRODUCTO_ERROR:\n    case PRODUCTO_ELIMINADO_ERROR:\n      return { ...state,\n        loading: false,\n        error: action.payload\n      };\n\n    case DESCARGA_PRODUCTOS_EXITO:\n      return { ...state,\n        loading: false,\n        error: null,\n        productos: action.payload\n      };\n\n    case OBTENER_PRODUCTO_ELIMINAR:\n      return { ...state,\n        productoEliminar: action.payload\n      };\n\n    case PRODUCTO_ELIMINADO_EXITO:\n      console.log(state.productos);\n      return { ...state,\n        productos: state.productos.filter(dato => dato.id !== state.productoEliminar),\n        productoEliminar: null\n      };\n\n    case OBTENER_PRODUCTO_EDITAR:\n      return { ...state,\n        productoeditar: action.payload\n      };\n\n    case PRODUCTO_EDITADO_EXITO:\n      return { ...state,\n        productoeditar: null,\n        productos: state.productos.map(pr => pr.id === action.payload.id ? pr = action.payload : pr)\n      };\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["C:/Users/danni/Documents/ProgramacionWeb/curso-react/crud-redux/src/reducers/productosReducer.js"],"names":["AGREGAR_PRODUCTO","AGREGAR_PRODUCTO_ERROR","AGREGAR_PRODUCTO_EXITO","COMENZAR_DESCARGA_PRODUCTOS","DESCARGA_PRODUCTOS_EXITO","DESCARGA_PRODUCTOS_ERROR","OBTENER_PRODUCTO_ELIMINAR","PRODUCTO_ELIMINADO_EXITO","PRODUCTO_ELIMINADO_ERROR","OBTENER_PRODUCTO_EDITAR","PRODUCTO_EDITADO_EXITO","PRODUCTO_EDITADO_ERROR","initialState","productos","error","loading","productoEliminar","productoeditar","state","action","type","payload","console","log","filter","dato","id","map","pr"],"mappings":"AAAA,SACEA,gBADF,EAEEC,sBAFF,EAGEC,sBAHF,EAIEC,2BAJF,EAKEC,wBALF,EAMEC,wBANF,EAOEC,yBAPF,EAQEC,wBARF,EASEC,wBATF,EAUEC,uBAVF,EAWEC,sBAXF,EAYEC,sBAZF,QAaO,UAbP,C,CAamB;;AAEnB,MAAMC,YAAY,GAAG;AACnBC,EAAAA,SAAS,EAAE,EADQ;AAEnBC,EAAAA,KAAK,EAAE,IAFY;AAGnBC,EAAAA,OAAO,EAAE,KAHU;AAInBC,EAAAA,gBAAgB,EAAE,IAJC;AAKnBC,EAAAA,cAAc,EAAE;AALG,CAArB;AAQA,eAAe,UAAUC,KAAK,GAAGN,YAAlB,EAAgCO,MAAhC,EAAwC;AACrD,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKpB,gBAAL;AACA,SAAKG,2BAAL;AACE,aAAO,EACL,GAAGe,KADE;AAELH,QAAAA,OAAO,EAAEI,MAAM,CAACE;AAFX,OAAP;;AAKF,SAAKnB,sBAAL;AACE,aAAO,EACL,GAAGgB,KADE;AAELH,QAAAA,OAAO,EAAE,KAFJ;AAGLF,QAAAA,SAAS,EAAE,CAAC,GAAGK,KAAK,CAACL,SAAV,EAAqBM,MAAM,CAACE,OAA5B;AAHN,OAAP;;AAKF,SAAKhB,wBAAL;AACA,SAAKM,sBAAL;AACA,SAAKV,sBAAL;AACA,SAAKO,wBAAL;AACE,aAAO,EACL,GAAGU,KADE;AAELH,QAAAA,OAAO,EAAE,KAFJ;AAGLD,QAAAA,KAAK,EAAEK,MAAM,CAACE;AAHT,OAAP;;AAMF,SAAKjB,wBAAL;AACE,aAAO,EACL,GAAGc,KADE;AAELH,QAAAA,OAAO,EAAE,KAFJ;AAGLD,QAAAA,KAAK,EAAE,IAHF;AAILD,QAAAA,SAAS,EAAEM,MAAM,CAACE;AAJb,OAAP;;AAOF,SAAKf,yBAAL;AACE,aAAO,EACL,GAAGY,KADE;AAELF,QAAAA,gBAAgB,EAAEG,MAAM,CAACE;AAFpB,OAAP;;AAIF,SAAKd,wBAAL;AACEe,MAAAA,OAAO,CAACC,GAAR,CAAYL,KAAK,CAACL,SAAlB;AAEA,aAAO,EACL,GAAGK,KADE;AAELL,QAAAA,SAAS,EAAEK,KAAK,CAACL,SAAN,CAAgBW,MAAhB,CACRC,IAAD,IAAUA,IAAI,CAACC,EAAL,KAAYR,KAAK,CAACF,gBADnB,CAFN;AAKLA,QAAAA,gBAAgB,EAAE;AALb,OAAP;;AAQF,SAAKP,uBAAL;AACE,aAAO,EACL,GAAGS,KADE;AAELD,QAAAA,cAAc,EAAEE,MAAM,CAACE;AAFlB,OAAP;;AAIF,SAAKX,sBAAL;AACE,aAAO,EACL,GAAGQ,KADE;AAELD,QAAAA,cAAc,EAAE,IAFX;AAGLJ,QAAAA,SAAS,EAAEK,KAAK,CAACL,SAAN,CAAgBc,GAAhB,CAAqBC,EAAD,IAC7BA,EAAE,CAACF,EAAH,KAAUP,MAAM,CAACE,OAAP,CAAeK,EAAzB,GAA+BE,EAAE,GAAGT,MAAM,CAACE,OAA3C,GAAsDO,EAD7C;AAHN,OAAP;;AAOF;AACE,aAAOV,KAAP;AA9DJ;AAgED","sourcesContent":["import {\r\n  AGREGAR_PRODUCTO,\r\n  AGREGAR_PRODUCTO_ERROR,\r\n  AGREGAR_PRODUCTO_EXITO,\r\n  COMENZAR_DESCARGA_PRODUCTOS,\r\n  DESCARGA_PRODUCTOS_EXITO,\r\n  DESCARGA_PRODUCTOS_ERROR,\r\n  OBTENER_PRODUCTO_ELIMINAR,\r\n  PRODUCTO_ELIMINADO_EXITO,\r\n  PRODUCTO_ELIMINADO_ERROR,\r\n  OBTENER_PRODUCTO_EDITAR,\r\n  PRODUCTO_EDITADO_EXITO,\r\n  PRODUCTO_EDITADO_ERROR,\r\n} from \"../types\"; // cada reducer tiene su propio state\r\n\r\nconst initialState = {\r\n  productos: [],\r\n  error: null,\r\n  loading: false,\r\n  productoEliminar: null,\r\n  productoeditar: null,\r\n};\r\n\r\nexport default function (state = initialState, action) {\r\n  switch (action.type) {\r\n    case AGREGAR_PRODUCTO:\r\n    case COMENZAR_DESCARGA_PRODUCTOS:\r\n      return {\r\n        ...state,\r\n        loading: action.payload,\r\n      };\r\n\r\n    case AGREGAR_PRODUCTO_EXITO:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        productos: [...state.productos, action.payload],\r\n      };\r\n    case DESCARGA_PRODUCTOS_ERROR:\r\n    case PRODUCTO_EDITADO_ERROR:\r\n    case AGREGAR_PRODUCTO_ERROR:\r\n    case PRODUCTO_ELIMINADO_ERROR:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: action.payload,\r\n      };\r\n\r\n    case DESCARGA_PRODUCTOS_EXITO:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: null,\r\n        productos: action.payload,\r\n      };\r\n\r\n    case OBTENER_PRODUCTO_ELIMINAR:\r\n      return {\r\n        ...state,\r\n        productoEliminar: action.payload,\r\n      };\r\n    case PRODUCTO_ELIMINADO_EXITO:\r\n      console.log(state.productos);\r\n\r\n      return {\r\n        ...state,\r\n        productos: state.productos.filter(\r\n          (dato) => dato.id !== state.productoEliminar\r\n        ),\r\n        productoEliminar: null,\r\n      };\r\n\r\n    case OBTENER_PRODUCTO_EDITAR:\r\n      return {\r\n        ...state,\r\n        productoeditar: action.payload,\r\n      };\r\n    case PRODUCTO_EDITADO_EXITO:\r\n      return {\r\n        ...state,\r\n        productoeditar: null,\r\n        productos: state.productos.map((pr) =>\r\n          pr.id === action.payload.id ? (pr = action.payload) : pr\r\n        ),\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}